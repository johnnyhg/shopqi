h1. Products Introdution

h2. Product Composition

# ShopQi official website
# Shop Admin
# Shop layout manager
# Shop display

h1. Installation

h2. Development Environment

ubuntu 10.04
vim 7.2 ("http://github.com/saberma/vimfiles":http://github.com/saberma/vimfiles)

h2. System Installation

The following process is based on ubuntu 10.04 installed operating system

h3. Softwares that development environment depends 

pre.
# Install the dependent libraries, ruby also need to install (or install ruby1.9.2 by rvm will report make: *** [miniprelude.c] Error 1 error)
sudo apt-get install build-essential bison openssl libreadline6 libreadline-dev curl git-core graphicsmagick \
  zlib1g zlib1g-dev libssl-dev vim libsqlite3-0 libsqlite3-dev sqlite3 libxml2-dev subversion autoconf ruby ruby-dev
# Webrat plug-in required
sudo apt-get install libxslt1-dev libxml2-dev

h3. RVM Installation

pre.
bash <<(curl http://rvm.beginrescueend.com/releases/rvm-install-head)
vim ~/.bashrc

# Add the following statement @~/.bashrc@ the bottom of the file
@[[-S "$HOME/.rvm/scripts/rvm"]] && source "$HOME/.rvm/scripts/rvm"@

pre.
# Install ruby 1.9.2, rails3 ruby version of the recommended
# Note that Ruby 1.8.7 p248 and p249 have marshaling bugs that crash Rails 3.0.
# Ruby Enterprise Edition have these fixed since release 1.8.7-2010.02 though.
# On the 1.9 front, Ruby 1.9.1 is not usable because it outright segfaults on Rails 3.0,
# So if you want to use Rails 3 with 1.9.x jump on 1.9.2 for smooth sailing.
rvm install 1.9.2-head
rvm 1.9.2-head --default

h3. Rails3 Installation

pre.
gem install tzinfo builder memcache-client rack rack-test rack-mount erubis mail text-format thor bundler i18n - no-ri - no-rdoc
gem install rails --pre --no-ri --no-rdoc
#If the following error report, you will need to manually download and install rack1.1.0 RubyGems.org the gem package
## ERROR: Error installing rails:
## Actionpack requires rack (~> 1.1.0, runtime)

h3. Mongodb Database Installation

Added to the @/etc/apt/source.list@

pre.
# Mongodb source
deb http://downloads.mongodb.org/distros/ubuntu 10.4 10gen

Execute in the terminal

pre.
sudo apt-get update
sudo apt-get install mongodb-stable

* Note *
Illegal shutdown operations may cause mongodb not start, you need to manually run the following statement unlock mongod before restart

pre.
mongod --repair
rm /var/lib/mongodb/mongod.lock

h3. Install Rails IDE

Please refer to rails on vim installation ("http://github.com/saberma/vimfiles":http://github.com/saberma/vimfiles)

h1. Development

pre.
# Load the basic data
rake db:seed
# Start the development environment applications
bundle exec unicorn

Open the url in browser

"ShopQi official website http://lvh.me:8080":http://lvh.me:8080
"Shop Back http://lvh.me:8080/user_root":http://lvh.me:8080/user_root
"Shop layout manager http://vancl.lvh.me:8080":http://vancl.lvh.me:8080

h1. test

* Cucumber *

pre.
# View cucumber supported languages
cucumber --i18n help
# View cucumber Chinese grammar
cucumber --i18n zh-CN

# Run the function test
spork cuc &
cucumber
# You can specify the test cases to run focus marker
cucumber -t @ focus

* Rspec *

If the gem is equipped with multiple versions of rspec, you can use the @ bundle exec rspec spec @ instead of @ rspec spec @

pre.
spork rspec &
bundle exec rspec spec -X
# You can specify a specific example name of the test run
bundle exec rspec spec -e create -X

* Why *
mongodb:flexibility to change fields, no need to control migration, better management of many relationship

h1. plugins Introduction

h2. jQuery

"Jeditable":http://www.appelsiini.net/projects/jeditable
Synthetic images used to implement the online text, you can instantly edit text.
Note that editing does not directly submitted to the server, go to the function processing

"JqDnR":http://dev.iceburg.net/jquery/jqDnR/
Synthetic images used to implement the online text, you can drag text, adjust the panel size
We has been modified:Drag text only limited within the scope of the panel; while drag stop,it can trigger drag.stop event

"Jstree":http://www.jstree.com
Categories tree structure to achieve display, drag and dynamic create nodes
(the document is not clear enough on the callback, it is best edit the source of the __callback, each with jGrowl show the name of the callback function)
We has been fixed:the checkbox of node with multi-level node(non-leaf) will be set to half-selected, but the lower node is not selected

"Jquery tools tooltip":http://flowplayer.org/tools/tooltip/index.html
used show form or image float panel while mouse hover
We has been modified: the width of float panel should not exceed Container_24 width

"Qtip":http://craigsworks.com/projects/qtip
show operation panel while mouse hovers
Download the official release of version 1.0.0-rc3 two problems: Unable to use jquery-1.4.2, you can manually fix; call destroy, reported state undefined error
"The latest development version of the above two issues have been fixed": http://bazaar.launchpad.net/~craig.craigsworks/qtip/1.0/files

"Cloud-zoom":http://www.professorcloud.com/mainsite/cloud-zoom.htm
Zoom the product image
We has been modified: hover small picture to show instead of click, and modify the border width of 1px (origin 4px)
Note To specify the img element's rel attribute, otherwise js error will be report

"Jixedbar":http://code.google.com/p/jixedbar
Show the realtime task bar at the bottom with fixed position
We has been fixed: the bar was not centered

h2. pure js plugin

"Fileuploader":http://valums.com/ajax-upload
Ajax upload documents and pictures, presented for the plug-ins do not support ajax file will be submitted to use iframe way
We has been forked: the addEvent change to jQuery way, in order to pass cucumber tests. It needs to trigger upload button's mouseover event, and then generate a hidden file input

h1. Contribute

If you are interested in the product, you can:

# Fork this
# Add features or fix Bug
# Write the corresponding test case test
# Send a pull request submitted

How to solve the commit conflict (ie github's forkqueue show "Will likely not apply cleanly"), you need to manually merge the branch

pre.
git remote add shopqi git://github.com/saberma/shopqi.git
git pull shopqi master
# fix file conflict manually ...
git commit -a -m 'merge from shopqi'
git push origin master

Click here to see which features need to be develope
"Http://www.pivotaltracker.com/projects/84595":http://www.pivotaltracker.com/projects/84595

shopqi code follow the git standardized development process, please refer to "http://saberma.me/git/2010/10/25/git-flow.html":http://saberma.me/git/2010/10/25/git-flow.html

h1. Support

If you need any help, you can:

# Add my gtalk to get direct communication: mahb45 # gmail.com
# Send email: mahb45 # gmail.com

h1. Powered By

!http://www.ihost-mm.net/images/wpThumbnails/ruby-logo-512.png!:http://www.ruby-lang.org/!http://rubyonrails.org/images/rails.png!:http://rubyonrails.org !http://www.mongodb.org/download/attachments/132305/PoweredMongoDBgreen50.png?version=1&modificationDate=1247081595817!:http://www.mongodb.org/ !http://haml-lang.com/images/haml.gif!:http://haml-lang.com !http://sass-lang.com/images/sass.gif!:http://sass- lang.com !http://compass-style.org/images/compass.png?1276447843!:http://compass-style.org

!http://960.gs/img/h1.gif!:http://960.gs

!http://www.richdownie.com/images/cucumber_logo.png!:http://cukes.info !http://maps.street-directory.com.au/dspec2/images/logo_rspec1.jpg!:http://rspec.info

h1. License

Products follow the license: "GNU Affero GPL 3":http://www.gnu.org/licenses/agpl-3.0.html

h1. Learning Resources

"Rails3-mongoid-devise the framework of the sample project":http://github.com/fortuity/rails3-mongoid-devise
"Git Cheat Sheet":http://github.com/guides/git-cheat-sheet

h1. References

"15 best free open source e-commerce platform":http://louishan.com/articles/15-open-source-ecommerce-platforms.html
